images
{
	image: "module_icon.png" COMP;
}

collections
{
	group {
		name: "icon";
		max: 128 128;
		parts {
			part {
				name: "image";
				mouse_events: 0;
				type: IMAGE;
				description {
					state: "default" 0.0;
					image.normal: "module_icon.png";
				}
			}
		}
	}
	group {
		name: "modules/scale/main";
		max: 128 128;
		parts {
			part {
				name: "icon";
				mouse_events: 0;
				type: IMAGE;
				description {
					state: "default" 0.0;
					aspect: 1.0 1.0;
					aspect_preference: BOTH;
					rel1.offset: 2 2;
					rel2.offset: -3 -3;
					image.normal: "module_icon.png";
				}
				description {
					state: "bigger" 0.0;
					inherit: "default" 0.0;
					rel1.offset: -2 -2;
					rel2.offset: 3 3;
				}
			}
			part {
				name: "event";
				mouse_events: 1;
				type: RECT;
				description {
					state: "default" 0.0;
					color: 255 255 255 0;
				}
			}
		}
		programs {
			program {
				name: "mouse_in";
				signal: "mouse,in";
				source: "event";
				action: STATE_SET "bigger" 0.0;
				transition: LINEAR 0.1;
				target: "icon";
			}
			program {
				name: "mouse_out";
				signal: "mouse,out";
				source: "event";
				action: STATE_SET "default" 0.0;
				transition: LINEAR 0.2;
				target: "icon";
			}
		}
	}

	group {
		name: "modules/scale/win";

		parts {

			part {
				name: "e.swallow.win";
				type: SWALLOW;
				description {
					state: "default" 0.0;
					color: 255 255 255 255;
				}
			}

			/* part {
			 * 	name: "icon";
			 * 	mouse_events: 0;
			 * 	type: IMAGE;
			 * 	description {
			 * 		state: "default" 0.0;
			 * 		aspect: 1.0 1.0;
			 * 		aspect_preference: BOTH;
			 * 		rel1.relative;
			 *
			 * 		rel1.offset: 2 2;
			 * 		rel2.offset: -3 -3;
			 * 		image.normal: "module_icon.png";
			 * 	}
			 * 	description {
			 * 		state: "bigger" 0.0;
			 * 		inherit: "default" 0.0;
			 * 		rel1.offset: -2 -2;
			 * 		rel2.offset: 3 3;
			 * 	}
			 * } */
			part {
				name: "over_clip";
				mouse_events: 0;
				type: RECT;
				description {
					state: "default" 0.0;
					color: 0 0 0 0;
				}
				description {
					state: "visible" 0.0;
					color: 255 255 255 255;
				}
			}
			part {
				name: "over";
				mouse_events: 1;
				type: RECT;
			        clip_to: "over_clip";
				description {
					state: "default" 0.0;
					color: 0 0 0 30;
				}
				description {
					state: "focused" 0.0;
					color: 255 255 255 10;
				}
			}
		}
		programs {
			program {
				name: "mouse_in";
				signal: "mouse,in";
				source: "e";
				action: STATE_SET "focused" 0.0;
				transition: ACCELERATE 0.1;
				target: "over";
			}
			program {
				name: "mouse_out";
				signal: "mouse,out";
				source: "e";
				action: STATE_SET "default" 0.0;
				transition: DECELERATE 0.1;
				target: "over";
			}
			program {
				name: "fade_in";
				signal: "show";
				source: "e";
				action: STATE_SET "visible" 0.0;
				transition: DECELERATE 0.3;
				target: "over_clip";
			}
			program {
				name: "fade_out";
				signal: "hide";
				source: "e";
				action: STATE_SET "default" 0.0;
				transition: ACCELERATE 0.1;
				target: "over_clip";
			}
		}

	}
	group {
		name: "modules/scale/desk";

		parts {
			part {
				name: "left";
				mouse_events: 0;
				type: RECT;
				description {
					state: "default" 0.0;
					color: 0 0 0 120;
					rel2 {
						relative: 0.0 1.0;
						offset: 0 -1;
					}
				}
			}
			part {
				name: "right";
				mouse_events: 0;
				type: RECT;
				description {
					state: "default" 0.0;
					color: 0 0 0 120;
					rel1 {
						relative: 1.0 0.0;
						offset: -1 0;
					}
				}
			}
			part {
				name: "top";
				mouse_events: 0;
				type: RECT;
				description {
					state: "default" 0.0;
					color: 0 0 0 120;
					rel2 {
						relative: 1.0 0.0;
						offset: -1 0;
					}
				}
			}
			part {
				name: "bottom";
				mouse_events: 0;
				type: RECT;
				description {
					state: "default" 0.0;
					color: 0 0 0 100;
					rel1 {
						relative: 0.0 1.0;
						offset: 0 -1;
					}
				}
			}
			part {
				name: "left2";
				mouse_events: 0;
				type: RECT;
				clip_to: "focus_clip";
				description {
					state: "default" 0.0;
					rel1 {
						relative: 0.0 0.0;
						offset: -1 0;
					}
					rel2 {
						relative: 0.0 1.0;
						offset: -1 -1;
					}
				}
			}
			part {
				name: "right2";
				mouse_events: 0;
				type: RECT;
				clip_to: "focus_clip";
				description {
					state: "default" 0.0;
					rel1 {
						relative: 1.0 0.0;
						offset: 0 0;
					}
					rel2 {
						relative: 1.0 1.0;
						offset: 0 -1;
					}
				}
			}
			part {
				name: "top2";
				mouse_events: 0;
				type: RECT;
				clip_to: "focus_clip";
				description {
					state: "default" 0.0;
					rel1 {
						relative: 0.0 0.0;
						offset: -1 -1;
					}
					rel2 {
						relative: 1.0 0.0;
						offset: -0 -1;
					}
				}
			}
			part {
				name: "bottom2";
				mouse_events: 0;
				type: RECT;
				clip_to: "focus_clip";
				description {
					state: "default" 0.0;
					rel1 {
						relative: 0.0 1.0;
						offset: -1 0;
					}
					rel2 {
						relative: 1.0 1.0;
						offset: 0 0;
					}
				}
			}
			part {
				name: "focus_clip";
				mouse_events: 0;
				type: RECT;
				description {
					state: "default" 0.0;
					color: 255 255 255 180;
					rel1 {
						relative: 0.0 0.0;
						offset: -1 -1;
					}
					rel2 {
						relative: 1.0 1.0;
						offset: 0 0;
					}
				}
				description {
					state: "unfocused" 0.0;
					inherit: "default" 0.0;
					color: 0 0 0 0;
				}
			}
			part {
				name: "bg";
				mouse_events: 1;
				type: RECT;
				description {
					state: "default" 0.0;
					color: 0 0 0 20;
				}
				description {
					state: "unfocused" 0.0;
					color: 0 0 0 70;
				}
			}
		}
		programs {
			program {
				name: "focused";
				signal: "focused";
				source: "e";
				action: STATE_SET "default" 0.0;
				transition: SINUSOIDAL 0.2;
				target: "bg";
				target: "focus_clip";
			}
			program {
				name: "unfocused";
				signal: "unfocused";
				source: "e";
				action: STATE_SET "unfocused" 0.0;
				transition: SINUSOIDAL 0.3;
				target: "bg";
				target: "focus_clip";
			}
		}
	}
}
